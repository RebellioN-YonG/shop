import{G as k,h as v,i as C,ba as y,aa as x,a as t,a4 as A,I as w,a9 as h,n as B,t as T,j as S,X as D}from"./index-786b1c77.js";import{R as L,a as P}from"./index-0611bba7.js";import{s as _,C as $}from"./index-34579d66.js";import{T as R}from"./index-ea81e4d8.js";import{C as G}from"./index-2de2f4d6.js";const j=k(_),[z,r]=v("address-item");var E=C({name:z,props:{address:y(Object),disabled:Boolean,switchable:Boolean,singleChoice:Boolean,defaultTagText:String,rightIcon:x("edit")},emits:["edit","click","select"],setup(a,{slots:s,emit:l}){const c=e=>{a.switchable&&l("select"),l("click",e)},b=()=>t(w,{name:a.rightIcon,class:r("edit"),onClick:e=>{e.stopPropagation(),l("edit"),l("click",e)}},null),m=()=>{if(s.tag)return s.tag(a.address);if(a.address.isDefault&&a.defaultTagText)return t(R,{type:"primary",round:!0,class:r("tag")},{default:()=>[a.defaultTagText]})},g=()=>{const{address:e,disabled:d,switchable:i,singleChoice:n}=a,o=[t("div",{class:r("name")},[`${e.name} ${e.tel}`,m()]),t("div",{class:r("address")},[e.address])];return i&&!d?n?t(L,{name:e.id,iconSize:18},{default:()=>[o]}):t($,{name:e.id,iconSize:18},{default:()=>[o]}):o};return()=>{var e;const{disabled:d}=a;return t("div",{class:r({disabled:d}),onClick:c},[t(G,{border:!1,titleClass:r("title")},{title:g,"right-icon":b}),(e=s.bottom)==null?void 0:e.call(s,A({},a.address,{disabled:d}))])}}});const[N,f,q]=v("address-list"),O={list:h(),modelValue:[...B,Array],switchable:T,disabledText:String,disabledList:h(),showAddButton:T,addButtonText:String,defaultTagText:String,rightIcon:x("edit")};var X=C({name:N,props:O,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(a,{slots:s,emit:l}){const c=S(()=>!Array.isArray(a.modelValue)),b=(e,d,i)=>{const n=()=>l(i?"editDisabled":"edit",e,d),o=u=>l("clickItem",e,d,{event:u}),I=()=>{if(l(i?"selectDisabled":"select",e,d),!i)if(c.value)l("update:modelValue",e.id);else{const u=a.modelValue;u.includes(e.id)?l("update:modelValue",u.filter(V=>V!==e.id)):l("update:modelValue",[...u,e.id])}};return t(E,{key:e.id,address:e,disabled:i,switchable:a.switchable,singleChoice:c.value,defaultTagText:a.defaultTagText,rightIcon:a.rightIcon,onEdit:n,onClick:o,onSelect:I},{bottom:s["item-bottom"],tag:s.tag})},m=(e,d)=>{if(e)return e.map((i,n)=>b(i,n,d))},g=()=>a.showAddButton?t("div",{class:[f("bottom"),"van-safe-area-bottom"]},[t(D,{round:!0,block:!0,type:"primary",text:a.addButtonText||q("add"),class:f("add"),onClick:()=>l("add")},null)]):void 0;return()=>{var e,d;const i=m(a.list),n=m(a.disabledList,!0),o=a.disabledText&&t("div",{class:f("disabled-text")},[a.disabledText]);return t("div",{class:f()},[(e=s.top)==null?void 0:e.call(s),!c.value&&Array.isArray(a.modelValue)?t(j,{modelValue:a.modelValue},{default:()=>[i]}):t(P,{modelValue:a.modelValue},{default:()=>[i]}),o,n,(d=s.default)==null?void 0:d.call(s),g()])}}});const Q=k(X);export{Q as A};
